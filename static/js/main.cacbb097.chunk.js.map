{"version":3,"sources":["api/api.js","api/posts.js","components/Carousel/Carousel.jsx","components/PostCard/PostCard.jsx","components/PostsList/PostsList.jsx","components/Paginator/Paginator.jsx","api/comments.js","components/Comment/Comment.jsx","components/Comments/Comments.jsx","components/NewCommentForm/NewCommentForm.jsx","components/Popup/Popup.jsx","App.jsx","index.js"],"names":["BASE_URL","request","url","fetch","then","response","json","posts","data","map","post","index","image","postsImages","classes","Carousel","users","callBack","useState","classesList","setClasses","currentUser","setCurrentUser","useEffect","Object","keys","length","className","type","onClick","slice","user","key","id","role","aria-hidden","classNames","choise","includes","prevClasses","handleClick","src","alt","name","PostCard","onSubmit","title","value","postAuthor","find","userId","PostsList","React","memo","Fragment","propTypes","PropTypes","arrayOf","shape","number","isRequired","object","func","Paginator","total","perPage","currentPage","handleChange","pagesCount","Math","ceil","disabled","event","target","currentBtn","Array","prevBtn","nextBtn","handleControlers","page","uuidv4","method","getPostComments","postId","Comment","body","email","createdAt","Comments","comments","comment","NewCommentForm","errors","state","setState","trim","currentState","handleErrors","TextField","variant","label","style","width","multiline","rows","rowsmax","error","helperText","onChange","onBlur","test","isEmail","values","some","Popup","commentsLength","isOpen","address","city","street","suite","zipcode","authorImage","phone","postImage","setComents","idCommentRemove","setIdCommentRemove","newComment","setNewComment","commentsVisibility","setCommentsVisibility","headers","JSON","stringify","addNewComment","App","isActive","postsForDisplay","setPostsForDisplay","postDetails","setPostDetails","handleSetState","prevState","Number","isInteger","usersList","usersFromApi","usersImage","obj","postsList","filter","startIndex","stopIndex","images","styling","currentTarget","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cacbb097.chunk.js","sourcesContent":["export const BASE_URL = 'https://mate-api.herokuapp.com';\n","import { BASE_URL } from './api';\nimport postsImages from './posts_images.json';\n\nconst request = url => fetch(`${BASE_URL}${url}`)\n  .then(response => response.json())\n  .then(posts => posts.data.map((post, index) => ({\n    ...post, image: postsImages[index].image,\n  })));\n\nexport const getPosts = () => request('/posts');\nexport const getPostDetails = postId => request(`/posts/${postId}`);\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport './Carousel.scss';\n\nconst classes = [\n  'left-small',\n  'left-middle',\n  'front',\n  'right-middle',\n  'right-small',\n  'final-hidden',\n  'hidden',\n  'hidden',\n  'hidden',\n  'initial-hidden',\n];\n\nconst handleClick = (choise, setClasses) => {\n  if (['left-small', 'left-middle'].includes(choise)) {\n    if (choise === 'left-middle') {\n      setClasses(prevClasses => (\n        [...prevClasses.slice(1), prevClasses[0]]\n      ));\n    } else {\n      setClasses(prevClasses => (\n        [...prevClasses.slice(1), prevClasses[0]]\n      ));\n      setClasses(prevClasses => (\n        [...prevClasses.slice(1), prevClasses[0]]\n      ));\n    }\n\n    return;\n  }\n\n  if (choise === 'right-middle') {\n    setClasses(prevClasses => (\n      [...prevClasses.slice(-1), ...prevClasses.slice(0, -1)]\n    ));\n  } else {\n    setClasses(prevClasses => (\n      [...prevClasses.slice(-1), ...prevClasses.slice(0, -1)]\n    ));\n    setClasses(prevClasses => (\n      [...prevClasses.slice(-1), ...prevClasses.slice(0, -1)]\n    ));\n  }\n};\n\nexport const Carousel = ({ users, callBack }) => {\n  const [classesList, setClasses] = useState(classes);\n  const [currentUser, setCurrentUser] = useState({});\n\n  useEffect(() => {\n    if (Object.keys(currentUser).length) {\n      callBack('currentUser', currentUser);\n    }\n  }, [currentUser]);\n\n  return (\n    <div className=\"carousel\">\n      <button\n        type=\"button\"\n        className=\"btn btn__prev\"\n        onClick={() => {\n          setClasses([...classesList.slice(-1), ...classesList.slice(0, -1)]);\n        }}\n      >\n        &#8249;\n      </button>\n\n      <button\n        type=\"button\"\n        className=\"btn btn__next\"\n        onClick={() => {\n          setClasses([...classesList.slice(1), classesList[0]]);\n        }}\n      >\n        &#8250;\n      </button>\n\n      <ul>\n        {users.map((user, index) => (\n          <div\n            key={user.id}\n            className={`wrapper wrapper--${classesList[index]}`}\n          >\n            <li\n              role=\"menuitem\"\n              aria-hidden\n              className={classNames(\n                'carousel__card',\n                `carousel__card--${classesList[index]} `,\n                { 'carousel__card--active': currentUser.id === user.id },\n                'author',\n              )}\n              onClick={() => {\n                if (classesList[index] !== 'front') {\n                  handleClick(classesList[index], setClasses);\n                }\n\n                setCurrentUser(user);\n              }}\n            >\n              <img\n                className=\"author__image\"\n                src={user.image}\n                alt=\"author-avatar\"\n              />\n              <span className=\"author__name\">\n                {user.name}\n              </span>\n            </li>\n          </div>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nCarousel.propTypes = {\n  users: PropTypes.arrayOf(\n    PropTypes.object.isRequired,\n  ).isRequired,\n  callBack: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './PostCard.scss';\n\nexport const PostCard = ({ users, post, onSubmit }) => (\n\n  <li className=\"post\">\n    <div className=\"post__image-container\">\n      <img className=\"post__image\" src={post.image} alt=\"\" />\n\n    </div>\n    <div className=\"post__info\">\n      <div className=\"post__title\">\n        {' '}\n        {post.title}\n      </div>\n      <button\n        type=\"button\"\n        className=\"button button--details\"\n        value={post.id}\n        onClick={() => {\n          const postAuthor = users.find(user => user.id === post.userId);\n\n          onSubmit({\n            post, postAuthor,\n          });\n        }}\n      >\n        READ MORE\n      </button>\n    </div>\n  </li>\n);\n\nPostCard.propTypes = {\n  users: PropTypes.arrayOf(\n    PropTypes.object.isRequired,\n  ).isRequired,\n  post: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n    image: PropTypes.string.isRequired,\n    userId: PropTypes.number.isRequired,\n  }).isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport './PostsList.scss';\nimport PropTypes from 'prop-types';\n\nimport { PostCard } from '../PostCard';\n\nexport const PostsList = React.memo(({ posts, users, onSubmit }) => (\n  <ul className=\"posts\">\n    {\n        posts.map(post => (\n          <React.Fragment key={post.id}>\n            <PostCard\n              users={users}\n              onSubmit={onSubmit}\n              post={post}\n            />\n          </React.Fragment>\n        ))\n      }\n  </ul>\n));\n\nPostsList.propTypes = {\n  posts: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }).isRequired,\n  ).isRequired,\n  users: PropTypes.arrayOf(\n    PropTypes.object.isRequired,\n  ).isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport classNames from 'classnames';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport './Paginator.scss';\n\nconst handleControlers = (pagesCount, currentBtn) => {\n  if (pagesCount <= 4) {\n    return [...Array(pagesCount).keys()].map(number => number + 1);\n  }\n\n  const prevBtn = currentBtn - 1;\n  const nextBtn = currentBtn + 1;\n\n  if ([1, pagesCount].includes(currentBtn)) {\n    return currentBtn === 1\n      ? [1, 2, '...', pagesCount]\n      : [1, '...', pagesCount - 1, pagesCount];\n  }\n\n  if (currentBtn === 2 || nextBtn === pagesCount) {\n    return currentBtn === 2\n      ? [1, currentBtn, nextBtn, '...', pagesCount]\n      : [1, '...', prevBtn, currentBtn, pagesCount];\n  }\n\n  if (currentBtn - 3 === 0 || currentBtn + 2 === pagesCount) {\n    return currentBtn - 3 === 0\n      ? [1, 2, currentBtn, nextBtn, '...', pagesCount]\n      : [1, '...', prevBtn, currentBtn, pagesCount - 1, pagesCount];\n  }\n\n  return [1, '...', prevBtn, currentBtn, nextBtn, '...', pagesCount];\n};\n\nexport const Paginator = ({ total, perPage, currentPage, handleChange }) => {\n  const pagesCount = Math.ceil(total / perPage);\n\n  return (\n    <ul className=\"buttonsContainer\">\n      <button\n        type=\"button\"\n        name=\"currentPage\"\n        className={classNames(\n          'button',\n          'button__paginator',\n          'button__paginator--prev',\n          { 'button--is-active': currentPage === 1 },\n        )}\n        value={currentPage - 1}\n        disabled={currentPage === 1}\n        onClick={(event) => {\n          const { name, value } = event.target;\n\n          handleChange(name, +value);\n        }}\n      >\n        PREV\n      </button>\n      {\n        handleControlers(pagesCount, currentPage).map(page => (\n\n          <li\n            key={uuidv4()}\n          >\n            <button\n              type=\"button\"\n              name=\"currentPage\"\n              className={classNames(\n                'button',\n                'button__paginator',\n                {\n                  'button--is-active': page === currentPage,\n                },\n              )\n              }\n              value={page}\n              disabled={page === currentPage || page === '...'}\n              onClick={(event) => {\n                const { name, value } = event.target;\n\n                handleChange(name, +value);\n              }}\n            >\n              {page}\n            </button>\n          </li>\n        ))\n      }\n      <button\n        type=\"button\"\n        name=\"currentPage\"\n        className={classNames(\n          'button',\n          'button__paginator',\n          'button__paginator--next',\n          { 'button--is-active': currentPage === pagesCount },\n        )}\n        value={currentPage + 1}\n        disabled={currentPage === pagesCount}\n        onClick={(event) => {\n          const { name, value } = event.target;\n\n          handleChange(name, +value);\n        }}\n\n      >\n        NEXT\n      </button>\n    </ul>\n  );\n};\n\nPaginator.propTypes = {\n  total: PropTypes.number.isRequired,\n  perPage: PropTypes.number.isRequired,\n  currentPage: PropTypes.number.isRequired,\n  handleChange: PropTypes.func.isRequired,\n};\n","import { BASE_URL } from './api';\n\nconst request = (url, method) => fetch(`${BASE_URL}${url}`, method)\n  .then(response => response.json())\n  .then(json => json.data);\n\nexport const getPostComments = postId => request(`/comments?postId=${postId}`);\n\nexport const removeComment = (id) => {\n  request(`/comments/${id}`, { method: 'DELETE' });\n};\n\nexport const addNewComment = (newComment) => {\n  if (!newComment) {\n    return;\n  }\n\n  request('/comments/', {\n    method: 'POST',\n    headers: {\n      'Content-type': 'aplication/json; charset=utf-8',\n    },\n    body: JSON.stringify(newComment),\n  });\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Comment.scss';\n\nexport const Comment = ({ body, email, createdAt, name, id, onSubmit }) => (\n  < >\n    <div className=\"comment__logo-block\">\n      <img\n        // eslint-disable-next-line\n        src=\"https://as1.ftcdn.net/v2/jpg/04/12/57/22/1000_F_412572270_OGw5hFLVwWoBCOdwWjLa1qGHsYU444PI.jpg\"\n        alt=\"\"\n      />\n      <span>{name}</span>\n    </div>\n    <div className=\"comment__body\">\n      <p>{body}</p>\n    </div>\n    <div className=\"comment__info\">\n      <span>{email}</span>\n      {'    '}\n      <span>{createdAt}</span>\n    </div>\n\n    <button\n      type=\"button\"\n      className=\"button button__delete\"\n      onClick={() => onSubmit(id)}\n    >\n      Delete\n    </button>\n  </>\n);\n\nComment.propTypes = {\n  id: PropTypes.number.isRequired,\n  name: PropTypes.string.isRequired,\n  body: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  createdAt: PropTypes.string.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Comment } from '../Comment';\nimport './Comments.scss';\n\nexport const Comments = ({ comments, onSubmit }) => (\n  <div className=\"comments\">\n\n    <ul className=\"comments__list\">\n      {\n        comments.map(comment => (\n          <li className=\"comment\" key={comment.id}>\n            <Comment\n              {...comment}\n              onSubmit={onSubmit}\n            />\n          </li>\n        ))\n      }\n    </ul>\n\n  </div>\n);\n\nComments.propTypes = {\n  comments: PropTypes.arrayOf(\n    PropTypes.object.isRequired,\n  ).isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { TextField } from '@material-ui/core';\nimport './NewCommentForm.scss';\n\nconst isEmail = (email) => {\n  /* eslint-disable no-useless-escape */\n  /* eslint-disable max-len */\n  const regEmail = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n  return regEmail.test(email);\n};\n\nexport const NewCommentForm = ({ postId, onSubmit }) => {\n  const [state, setState] = useState({\n    body: '',\n    name: '',\n    email: '',\n    errors: {\n      body: false,\n      name: false,\n      email: false,\n    },\n  });\n\n  const handleSubmit = () => {\n    onSubmit({\n      postId, body, name, email,\n    });\n\n    setState({\n      body: '',\n      name: '',\n      email: '',\n      errors: {\n        body: false,\n        name: false,\n        email: false,\n      },\n    });\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n\n    if (!state[name] && !value.trim()) {\n      return;\n    }\n\n    state.errors[name] = false;\n    setState(currentState => ({\n      ...currentState, [name]: value,\n    }));\n  };\n\n  const handleErrors = (event) => {\n    const { name } = event.target;\n\n    state.errors[name] = true;\n    setState({ ...state });\n  };\n\n  const { body, name, email, errors } = state;\n\n  return (\n    <div className=\"feedback__inputs\">\n      <div className=\"feedback__text-fields\">\n        <TextField\n          variant=\"outlined\"\n          label=\"Comment:\"\n          style={{ width: 350 }}\n          multiline\n          rows={5}\n          rowsmax={8}\n          name=\"body\"\n          error={!!errors.body}\n          helperText={!!errors.body && 'Comment should be more then 10 words'}\n          value={body}\n          onChange={handleChange}\n          onBlur={event => body.length < 5 && handleErrors(event)}\n        />\n\n        <div className=\"text-fields__wrapper\">\n          <TextField\n            variant=\"outlined\"\n            label=\"Name:\"\n            name=\"name\"\n            value={name}\n            error={!!errors.name}\n            helperText={!!errors.name && 'Name shold be more then 3 letters'}\n            style={{ width: 250 }}\n            onChange={handleChange}\n            onBlur={event => name.length < 3 && handleErrors(event)}\n\n          />\n          <TextField\n            type=\"email\"\n            variant=\"outlined\"\n            label=\"Email:\"\n            name=\"email\"\n            error={!!errors.email}\n            helperText={!!errors.email && 'email is not valid'}\n            value={email}\n            style={{ width: 250 }}\n            onChange={handleChange}\n            onBlur={event => !isEmail(email) && handleErrors(event)}\n\n          />\n        </div>\n      </div>\n\n      <button\n        type=\"button\"\n        className=\"button button__comments\"\n        disabled={\n          Object.values(errors).some(value => value)\n          || Object.values(state).some(value => !value)\n        }\n        onClick={handleSubmit}\n      >\n        PUBLIC\n      </button>\n    </div>\n  );\n};\n\nNewCommentForm.propTypes = {\n  postId: PropTypes.number.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  getPostComments,\n  removeComment,\n  addNewComment,\n} from '../../api/comments';\n\nimport { Comments } from '../Comments';\n\nimport { NewCommentForm } from '../NewCommentForm';\n\nimport './Popup.scss';\n\nconst setButtonTitle = (commentsLength, isOpen) => {\n  if (!commentsLength) {\n    return 'No Comments';\n  }\n\n  return isOpen ? 'Hide Comments' : 'Show Comments';\n};\n\nexport const Popup = ({\n  post,\n  postAuthor,\n  onSubmit,\n}) => {\n  const {\n    name,\n    address: { city, street, suite, zipcode },\n    image: authorImage,\n    phone,\n    email,\n  } = postAuthor;\n\n  const {\n    id: postId,\n    title,\n    image: postImage,\n    body,\n  } = post;\n\n  const [comments, setComents] = useState([]);\n\n  const [idCommentRemove, setIdCommentRemove] = useState(null);\n  const [newComment, setNewComment] = useState(null);\n\n  const [commentsVisibility, setCommentsVisibility] = useState(false);\n\n  useEffect(() => {\n    if (!idCommentRemove) {\n      getPostComments(postId).then(setComents);\n\n      return;\n    }\n\n    removeComment(idCommentRemove);\n    getPostComments(postId).then(setComents);\n    setIdCommentRemove(null);\n  }, [idCommentRemove]);\n\n  useEffect(() => {\n    addNewComment(newComment);\n    getPostComments(postId).then(setComents);\n\n    setNewComment(null);\n  }, [newComment]);\n\n  return (\n    <>\n      <div className=\"popup__content\">\n        <button\n          className=\"button button__close\"\n          type=\"button\"\n          onClick={() => onSubmit({})}\n        >\n          X\n        </button>\n        <div className=\"popup__header\">\n          <img src={postImage} alt=\"post-logo\" />\n        </div>\n\n        <div className=\"popup__info-block person\">\n\n          <img\n            src={authorImage}\n            alt=\"person-avatar\"\n            className=\"person__image\"\n          />\n\n          <div className=\"person__about\">\n            <span className=\"person__name\">\n              {name}\n            </span>\n            <span>\n              {`${street} ${suite}`}\n              <br />\n              {`${city} ${zipcode}`}\n            </span>\n            <span>\n              {phone}\n            </span>\n            <span>\n              {email}\n            </span>\n\n          </div>\n        </div>\n\n        <div className=\"person__post\">\n          <span className=\"person__post__title\">\n            {title}\n          </span>\n          <div className=\"person__post__text\">\n            &ldquo;\n            {' '}\n            {body}\n            {' '}\n            &bdquo;\n          </div>\n\n          {commentsVisibility\n            && (\n              <Comments\n                comments={comments}\n                onSubmit={setIdCommentRemove}\n              />\n            )\n          }\n\n          <div className=\"feedback\">\n            <NewCommentForm\n              postId={postId}\n              onSubmit={setNewComment}\n            />\n\n            <button\n              type=\"button\"\n              className=\"button button__toggle\"\n              disabled={!comments.length}\n              onClick={() => {\n                setCommentsVisibility(!commentsVisibility);\n              }}\n            >\n              {\n                setButtonTitle(comments.length, commentsVisibility)\n              }\n            </button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nPopup.propTypes = {\n  post: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n    body: PropTypes.string.isRequired,\n    image: PropTypes.string.isRequired,\n  }).isRequired,\n  postAuthor: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    email: PropTypes.string.isRequired,\n    phone: PropTypes.string.isRequired,\n    image: PropTypes.string.isRequired,\n    address: PropTypes.shape({\n      city: PropTypes.string.isRequired,\n      street: PropTypes.string.isRequired,\n      suite: PropTypes.string.isRequired,\n      zipcode: PropTypes.string.isRequired,\n    }).isRequired,\n  }).isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React, { useState, useEffect } from 'react';\nimport classNames from 'classnames';\nimport { getPosts } from './api/posts';\nimport postsImages from './posts_images.json';\nimport usersImage from './usersImages.json';\nimport usersFromApi from './api/users.json';\nimport './App.scss';\nimport { Carousel } from './components/Carousel';\nimport { PostsList } from './components/PostsList';\nimport { Paginator } from './components/Paginator';\nimport { Popup } from './components/Popup';\n\nconst App = () => {\n  const [state, setState] = useState({\n    users: [],\n    posts: [],\n    total: 0,\n    perPage: 6,\n    currentPage: 1,\n    currentUser: null,\n    isActive: true,\n  });\n\n  const [postsForDisplay, setPostsForDisplay] = useState([]);\n  const [postDetails, setPostDetails] = useState({});\n\n  const { users, posts, currentPage, perPage, currentUser, isActive } = state;\n\n  const handleSetState = (name, value) => {\n    if (name === 'currentUser') {\n      setState(prevState => ({\n        ...prevState, currentPage: 1, isActive: false,\n      }));\n    }\n\n    if (name === 'isActive') {\n      setState(prevState => ({\n        ...prevState,\n        currentPage: 1,\n      }));\n    }\n\n    setState(prevState => ({\n      ...prevState,\n      [name]: Number.isInteger(value) ? +value : value,\n    }));\n  };\n\n  useEffect(() => {\n    const usersList = usersFromApi.map((user) => {\n      const image = usersImage.find(obj => obj[user.id])[user.id];\n\n      return {\n        ...user, image,\n      };\n    });\n\n    getPosts()\n      .then(postsList => setState(prevState => ({\n        ...prevState, users: usersList, posts: postsList, total: posts.length,\n      })));\n  }, []);\n\n  useEffect(() => {\n    if (isActive) {\n      setPostsForDisplay(posts);\n\n      return;\n    }\n\n    setPostsForDisplay(posts.filter(post => post.userId === currentUser.id));\n  }, [posts, isActive, currentUser]);\n\n  const startIndex = currentPage * perPage - perPage;\n  const stopIndex = currentPage * perPage;\n\n  return (!!postsForDisplay.length\n    && (\n    <div className=\"App\">\n      <header className=\"App__header\" />\n\n      <main className=\"App__main\">\n        <Carousel\n          users={users}\n          callBack={handleSetState}\n        />\n\n        {\n          postsForDisplay.length\n          && (\n          <>\n            <div className=\"posts-container\">\n              <div className=\"buttons-container\">\n                <button\n                  type=\"button\"\n                  className={classNames(\n                    'button-posts',\n                    { 'button-posts__active': isActive },\n                  )}\n                  disabled={isActive}\n                  onClick={() => {\n                    handleSetState('isActive', true);\n                  }}\n                >\n                  ALL POSTS\n                </button>\n                {currentUser\n                  && (\n                  <button\n                    type=\"button\"\n                    className={classNames(\n                      'button-posts',\n                      'button-posts__user',\n                      { 'button-posts__active': !isActive },\n                    )}\n                    disabled={!isActive}\n                    onClick={() => {\n                      handleSetState('isActive', false);\n                    }}\n                  >\n                    {`Posts of: ${currentUser.name}`}\n                  </button>\n                  )\n                }\n              </div>\n\n              <PostsList\n                startIndex={startIndex}\n                stopIndex={stopIndex}\n                images={postsImages}\n                users={users}\n                posts={postsForDisplay.slice(startIndex, stopIndex)}\n                onSubmit={setPostDetails}\n              />\n            </div>\n            {\n              !!Object.keys(postDetails).length\n              && (\n              <div\n                role=\"link\"\n                styling=\"link\"\n                aria-hidden\n                className=\"popup\"\n                onClick={(event) => {\n                  if (event.target === event.currentTarget) {\n                    setPostDetails({});\n                  }\n                }}\n              >\n                <Popup\n                  {...postDetails}\n                  onSubmit={setPostDetails}\n                />\n              </div>\n              )\n            }\n\n            <Paginator\n              total={postsForDisplay.length}\n              perPage={6}\n              currentPage={currentPage}\n              handleChange={handleSetState}\n            />\n          </>\n          )\n        }\n\n      </main>\n    </div>\n    )\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}